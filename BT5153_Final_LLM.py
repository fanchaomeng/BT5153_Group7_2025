import google.generativeai as genai
import json

# Configure your API key
genai.configure(api_key="your_api_key")

# Choose Gemini model
model = genai.GenerativeModel("gemini-2.0-flash-001")

# Input reviews
input_data = {"cluster":0,"title":"Horrible","text":"Absolutely horrible product and a waste of money, this must’ve been a returned from someone else because there were pieces missing and the bag inside was completely ripped open and destroyed, also the molds were made horrible and didn’t even lay flat"},{"cluster":0,"title":"Annoying","text":"Deleted immediately, that dancing girl is just too annoying, and maybe there is a way, but I am not going to waste time trying to figure out how to get rid of her."},{"cluster":0,"title":"Refurbished Plantronics Bluetooth Headset","text":"I Really Like Plantronics Bluetooth Headphones, & Plantronics Product's. But This Refurbished Plantronics Bluetooth Headset, Was Not An Acceptable Bluetooth. It Could Be A Possibly That, Because It Was Refurbished, It Was Not Acceptable."},{"cluster":0,"title":"Works well, can be seen","text":"These metal collar extenders work well but they can easily be seen.  There is no way to hide them, making them useless.  On a positive note, they arrived quickly and with a bunch of other types of collar extenders.  Unfortunately, those plastic types can also be seen above the tie as well. Save your money and buy more shirts UNLESS you don't mind your collar extender visible above your tie."},{"cluster":0,"title":"Slides off easily","text":"Beautiful colors, but doesn’t stay on baby’s head. They slide off even without her tanking on them. The bands aren’t as high quality as I thought they would be, very very thin. Will be returning."},{"cluster":1,"title":"DO NOT BUY","text":"Cheap, flimsy, scratches on wood, absolutely awful!"},{"cluster":1,"title":"Do not buy from this seller","text":"I actually love the CD but I would  love it more if I had received it!!! Do not buy from this seller!!"},{"cluster":1,"title":"Don't buy unless you like being embarrassed.","text":"Meh got it activated it and registered online. Used it for a few things and it was all good. Decided to take my daughter out to lunch with it and it declined. I didn't have any.other way to pay and was mortified and had to call my ex husbands new wife for help as I didn't have anyone else to call. Called and checked balance to make sure I hadn't used more than I thought. Nope still had 60 dollars on it. Use with caution or just buy one somewhere else!!!!"},{"cluster":1,"title":"YOU WILL BE SORRY IF YOU BUY!!!","text":"Bought and installed these October of 2019. The Achilles heel of this item is apparently some kind of spacer that is designed to fail after several tank changes. Here it is midway into the second heating season and suddenly I can't get the twist knob to tighten enough to break the seal on the tank to allow gas to flow. So if you want to avoid a headache with your propane heating routine, I believe I would find an alternative."},{"cluster":1,"title":"I wouldn't buy it again","text":"It was nice while it lasted. Fell on the floor and the plastic cracked and in the trash it went. Also because the hook is attached to the lid the top will unscrew if you use said hook while walking around. Very bothersome. It's not a bad item per say, but it ended up not fitting our family and breaking."},{"cluster":2,"title":"Runs at least a couple sizes small","text":"Can't really review as it was at least 2 sizes too small."},{"cluster":2,"title":"Too small...","text":"Really too small. The size should be stated."},{"cluster":2,"title":"Returning Too Small","text":"Oh should have listened to so many, this is TOO small. The side pockets for drinks is not sufficient for any type of cup. I’m returning and ordering the larger version, was initially afraid it may be too large."},{"cluster":2,"title":"Knob on the lid is too small!","text":"I love these pans. This one, however, the lid is a problem. The knob on the lid is small and when you pull it off the pan while your cooking, you burn your fingers on the glass."},{"cluster":2,"title":"Too small","text":"There is no way this should have been built for 4 players.  The screen is too small and the control panel is too small.  My 4 kids could not even play this game at the same time.<br \/><br \/>You can try it in person at that big box store which requires a membership and sells cheap gas\/hot dogs.  They have it too."},{"cluster":3,"title":"Not working after one month","text":"I have the same problem like other reviewers who rate this product one star. After one month, when I placed the Wii remotes on the charger, the light was flashing red continuously. I left it for hours and it was still flashing red. The batteries do not work anymore. The light never turned green. It was flashing red crazily. I could not return to BestBuy because mistakenly I throw away the receipt. It was a total waste of money.<br \/><br \/>Lesson learn: You can try it first. Keep the store receipt handy in case it does not work and you want to return!"},{"cluster":3,"title":"Not Working As Expected","text":"I received a response on download question but this product does not work for what he claims so I seem to have wasted my money and regret buying this now."},{"cluster":3,"title":"Worked for almost 2 months then suddenly stopped. BUYER BEWARE!","text":"I bought this in Sept. It is now the middle of Nov. and the printer just stopped working. My computer suddenly doesn't recognize it. I tried everything to get it to work again, changed USB ports, uninstalled and reinstalled drivers, restarted the printer and my computer multiple times, I even did a system restore to when the printer was working... Nothing worked! I contacted MFLABEL support and nobody answered the phone, so I used their contact form on their website and emailed them. I have yet to get a response. I feel ripped off!!!! The return window is now closed. DO NOT BUY!!!!!!!!!!!!!!!"},{"cluster":3,"title":"Used one time and it stopped working.","text":"Used this one time and it stopped working."},{"cluster":3,"title":"Quit working after one season","text":"Bad quality, had to replace it with the old one for this season."},{"cluster":4,"title":"Waste of money","text":"It says it comes with pre installed settings which you can link to the app and add other mods the problem is there were no mods an the app could not link to the app because there was NO chip even installed so not being able to link to the app it’s useless that cost over $150 more then a standard PS5 controller with a $5 skin on it so it was returned awaiting a refund"},{"cluster":4,"title":"these were a waste of money","text":"these were a waste of money...i have no idea what glasses they would ever fit...i just went to my optometrist and he replaced them for free...."},{"cluster":4,"title":"They are not 3 layers don’t waste your money","text":"The mask have no liners in them just inside and out"},{"cluster":4,"title":"Waste of Money","text":"This was the worst $7 I ever spent. I normally love Kong products for my dog (yorkie)-he destroyed this within hours! I gave him it yesterday and pitched it the same night! He ripped the yellow off, and, started ripping the brown behind the yellow to get to the squeaker. So disappointed :( I’ll never buy again"},{"cluster":4,"title":"Save your money!","text":"These dinosaur toys are garbage. They don't stand up. They have a horrible lack of any detail ... Lower quality than a set I bought for my son at the dollar store."}
# Convert input data to pretty JSON string
input_json = json.dumps(input_data, indent=2)

# Prompt with actual input
prompt = f"""
You are an experienced customer success expert.

Based on the information provided below, do the following:
1. Provide a concise summary of what the negative feedback is mainly about.
2. For each of the categories provided, provide potential root cause and short recommendation to address the issue.

Be clear and concise.

input:
{input_json}
"""

# Generate response
response = model.generate_content(prompt)
print(response.text.strip())
